<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê¹€ì—„ë§ˆë…ì„œì‹¤ ê²°ì œ ê²€ì¦ ì‹œìŠ¤í…œ</title>
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #dbeafe;
            --success: #10b981;
            --success-light: #d1fae5;
            --danger: #ef4444;
            --danger-light: #fee2e2;
            --warning: #f59e0b;
            --warning-light: #fef3c7;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            --floor-7: #8b5cf6;
            --floor-8: #0891b2;
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --radius: 12px;
            --radius-lg: 16px;
        }

        [data-theme="dark"] {
            --primary: #3b82f6;
            --primary-light: #1e3a5f;
            --gray-50: #111827;
            --gray-100: #1f2937;
            --gray-200: #374151;
            --gray-300: #4b5563;
            --gray-400: #6b7280;
            --gray-500: #9ca3af;
            --gray-600: #d1d5db;
            --gray-700: #e5e7eb;
            --gray-800: #f3f4f6;
            --gray-900: #f9fafb;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Noto Sans KR', -apple-system, sans-serif;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #f0fdf4 100%);
            min-height: 100vh;
            color: var(--gray-800);
            line-height: 1.6;
        }

        [data-theme="dark"] body {
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0f172a 100%);
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 16px;
            padding-bottom: 100px;
        }

        .header {
            text-align: center;
            padding: 24px 0;
            margin-bottom: 16px;
            position: relative;
        }

        .header h1 {
            font-size: 1.75rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary) 0%, var(--floor-7) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .version {
            font-size: 0.875rem;
            color: var(--gray-500);
        }

        .header-actions {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
        }

        .icon-btn {
            width: 40px;
            height: 40px;
            border: none;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray-600);
            box-shadow: var(--shadow);
        }

        [data-theme="dark"] .icon-btn { background: var(--gray-100); }

        .nav-tabs {
            display: flex;
            gap: 4px;
            margin-bottom: 16px;
            background: white;
            padding: 4px;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
        }

        [data-theme="dark"] .nav-tabs { background: var(--gray-100); }

        .nav-tab {
            flex: 1;
            padding: 12px 8px;
            border: none;
            border-radius: var(--radius);
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            background: transparent;
            color: var(--gray-500);
        }

        .nav-tab.active {
            background: var(--primary);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .section { display: none; }
        .section.active { display: block; }

        .floor-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
            background: white;
            padding: 6px;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
        }

        [data-theme="dark"] .floor-tabs { background: var(--gray-100); }

        .floor-tab {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: var(--radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background: var(--gray-100);
            color: var(--gray-600);
        }

        .floor-tab.floor-8.active { background: var(--floor-8); color: white; }
        .floor-tab.floor-7.active { background: var(--floor-7); color: white; }

        .floor-tab .count {
            background: rgba(255,255,255,0.3);
            padding: 2px 8px;
            border-radius: 20px;
            font-size: 0.75rem;
        }

        .floor-tab:not(.active) .count { background: var(--gray-200); }

        .card {
            background: white;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            margin-bottom: 16px;
            overflow: hidden;
        }

        [data-theme="dark"] .card { background: var(--gray-100); }

        .card-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .card-header h2 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--gray-800);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card-body { padding: 16px 20px; }

        .seat-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 16px;
        }

        .seat-filter-btn {
            padding: 8px 14px;
            border: 1px solid var(--gray-200);
            border-radius: 20px;
            background: white;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            color: var(--gray-600);
        }

        [data-theme="dark"] .seat-filter-btn { background: var(--gray-200); }

        .seat-filter-btn.active {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .search-box {
            position: relative;
            margin-bottom: 12px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 16px 12px 44px;
            border: 1px solid var(--gray-200);
            border-radius: var(--radius);
            font-size: 0.9375rem;
            outline: none;
            background: white;
            color: var(--gray-800);
        }

        [data-theme="dark"] .search-box input { background: var(--gray-200); }

        .search-box input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px var(--primary-light);
        }

        .search-box .search-icon {
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            color: var(--gray-400);
        }

        .student-list {
            max-height: 280px;
            overflow-y: auto;
            border: 1px solid var(--gray-200);
            border-radius: var(--radius);
        }

        .student-item {
            padding: 12px 16px;
            border-bottom: 1px solid var(--gray-100);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .student-item:last-child { border-bottom: none; }
        .student-item:hover { background: var(--gray-50); }
        .student-item.selected { background: var(--primary-light); }

        .student-info { display: flex; flex-direction: column; gap: 2px; }
        .student-name { font-weight: 600; font-size: 0.9375rem; color: var(--gray-800); }
        .student-detail { font-size: 0.8125rem; color: var(--gray-500); }

        .seat-badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .seat-badge.ììœ ì„ { background: #fef3c7; color: #92400e; }
        .seat-badge.ì§€ì •ì„_ì—¬ { background: #fce7f3; color: #9d174d; }
        .seat-badge.ì§€ì •ì„_ë‚¨ { background: #dbeafe; color: #1e40af; }
        .seat-badge.ì¹¸ë§‰ì´ { background: #d1fae5; color: #065f46; }
        .seat-badge.í”„ë¦¬ë¯¸ì—„ { background: #fef3c7; color: #92400e; }

        .selected-student-card {
            background: linear-gradient(135deg, var(--primary-light) 0%, #eff6ff 100%);
            border-radius: var(--radius);
            padding: 16px;
            margin-bottom: 16px;
            border: 1px solid var(--primary);
        }

        [data-theme="dark"] .selected-student-card {
            background: linear-gradient(135deg, var(--primary-light) 0%, #1e3a5f 100%);
        }

        .selected-student-card .name {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .selected-student-card .details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            font-size: 0.875rem;
            color: var(--gray-600);
        }

        .form-group { margin-bottom: 16px; }

        .form-group label {
            display: block;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 6px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px 14px;
            border: 1px solid var(--gray-200);
            border-radius: var(--radius);
            font-size: 0.9375rem;
            outline: none;
            background: white;
            color: var(--gray-800);
        }

        [data-theme="dark"] .form-group input,
        [data-theme="dark"] .form-group select { background: var(--gray-200); }

        .form-group input:focus,
        .form-group select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px var(--primary-light);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .form-row-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 12px;
        }

        .period-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }

        .period-btn {
            padding: 12px 8px;
            border: 1px solid var(--gray-200);
            border-radius: var(--radius);
            background: white;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            text-align: center;
            color: var(--gray-700);
        }

        [data-theme="dark"] .period-btn { background: var(--gray-200); }

        .period-btn.selected {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .period-btn .weeks {
            display: block;
            font-size: 0.75rem;
            color: var(--gray-500);
            margin-top: 2px;
        }

        .period-btn.selected .weeks { color: rgba(255,255,255,0.8); }

        /* ì˜µì…˜ ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
        .options-section {
            background: var(--gray-50);
            border-radius: var(--radius);
            padding: 16px;
            margin-bottom: 16px;
        }

        [data-theme="dark"] .options-section { background: var(--gray-200); }

        .options-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .option-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            background: white;
            border-radius: 8px;
            margin-bottom: 8px;
            cursor: pointer;
            border: 1px solid var(--gray-200);
            transition: all 0.2s;
        }

        [data-theme="dark"] .option-item { background: var(--gray-100); }

        .option-item:hover {
            border-color: var(--primary);
        }

        .option-item.active {
            border-color: var(--primary);
            background: var(--primary-light);
        }

        .option-item input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary);
            cursor: pointer;
        }

        .option-item .option-label {
            flex: 1;
            font-size: 0.9375rem;
            color: var(--gray-700);
        }

        .option-item .option-value {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--primary);
        }

        .option-input-group {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 8px;
            padding: 10px 12px;
            background: white;
            border-radius: 8px;
            border: 1px solid var(--gray-200);
        }

        [data-theme="dark"] .option-input-group { background: var(--gray-100); }

        .option-input-group label {
            font-size: 0.875rem;
            color: var(--gray-600);
            white-space: nowrap;
        }

        .option-input-group input {
            flex: 1;
            padding: 8px 10px;
            border: 1px solid var(--gray-200);
            border-radius: 6px;
            font-size: 0.875rem;
            outline: none;
            background: var(--gray-50);
        }

        .option-input-group input:focus {
            border-color: var(--primary);
        }

        /* í• ì¸ ë²„íŠ¼ ê·¸ë£¹ */
        .discount-btn-group {
            display: flex;
            gap: 8px;
            margin-top: 8px;
        }

        .discount-btn {
            flex: 1;
            padding: 10px;
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            background: white;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            text-align: center;
            color: var(--gray-600);
            transition: all 0.2s;
        }

        [data-theme="dark"] .discount-btn { background: var(--gray-100); }

        .discount-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .discount-btn.active {
            background: var(--warning);
            border-color: var(--warning);
            color: white;
        }

        /* ê²€ì¦ ê²°ê³¼ ë°•ìŠ¤ */
        .verify-result {
            border-radius: var(--radius-lg);
            padding: 20px;
            margin-bottom: 16px;
            text-align: center;
        }

        .verify-result.match {
            background: linear-gradient(135deg, var(--success-light) 0%, #ecfdf5 100%);
            border: 2px solid var(--success);
        }

        .verify-result.mismatch {
            background: linear-gradient(135deg, var(--danger-light) 0%, #fef2f2 100%);
            border: 2px solid var(--danger);
        }

        .verify-result.partial {
            background: linear-gradient(135deg, var(--warning-light) 0%, #fffbeb 100%);
            border: 2px solid var(--warning);
        }

        .verify-result .status-icon {
            font-size: 3rem;
            margin-bottom: 8px;
        }

        .verify-result .status-text {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 12px;
        }

        .verify-result.match .status-text { color: var(--success); }
        .verify-result.mismatch .status-text { color: var(--danger); }
        .verify-result.partial .status-text { color: var(--warning); }

        .verify-details {
            background: white;
            border-radius: var(--radius);
            padding: 16px;
            text-align: left;
        }

        .verify-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid var(--gray-100);
            font-size: 0.9375rem;
        }

        .verify-row:last-child { border-bottom: none; }
        .verify-row .label { color: var(--gray-600); }
        .verify-row .value { font-weight: 600; color: var(--gray-800); }
        .verify-row .value.positive { color: var(--success); }
        .verify-row .value.negative { color: var(--danger); }
        .verify-row .value.discount { color: var(--warning); }
        .verify-row .value.add { color: var(--floor-7); }

        .verify-section-title {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 12px;
            margin-bottom: 8px;
            padding-top: 12px;
            border-top: 1px dashed var(--gray-200);
        }

        .difference-box {
            margin-top: 12px;
            padding: 12px;
            border-radius: var(--radius);
            font-size: 0.875rem;
        }

        .difference-box.over {
            background: var(--danger-light);
            color: #991b1b;
        }

        .difference-box.under {
            background: var(--success-light);
            color: #065f46;
        }

        .difference-box.exact {
            background: var(--primary-light);
            color: var(--primary);
        }

        .action-btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: var(--radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 12px;
        }

        .action-btn.primary { background: var(--primary); color: white; }
        .action-btn.primary:hover { background: var(--primary-dark); }
        .action-btn:disabled { opacity: 0.5; cursor: not-allowed; }

        .price-table { margin-top: 8px; }

        .price-table-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--gray-100);
            font-size: 0.875rem;
        }

        .price-table-row:last-child { border-bottom: none; }
        .price-table-row .label { color: var(--gray-600); }
        .price-table-row .value { font-weight: 600; color: var(--gray-800); }

        .daily-rate-info {
            background: var(--gray-50);
            border-radius: var(--radius);
            padding: 12px;
            margin-top: 12px;
            font-size: 0.8125rem;
            color: var(--gray-600);
        }

        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--gray-800);
            color: white;
            padding: 14px 24px;
            border-radius: var(--radius);
            font-size: 0.9375rem;
            font-weight: 500;
            box-shadow: var(--shadow-lg);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1001;
        }

        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
        .toast.success { background: var(--success); }
        .toast.error { background: var(--danger); }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray-500);
        }

        .student-list::-webkit-scrollbar { width: 6px; }
        .student-list::-webkit-scrollbar-track { background: var(--gray-100); border-radius: 3px; }
        .student-list::-webkit-scrollbar-thumb { background: var(--gray-300); border-radius: 3px; }

        .help-text {
            font-size: 0.75rem;
            color: var(--gray-500);
            margin-top: 4px;
        }

        .total-preview {
            background: linear-gradient(135deg, var(--gray-800) 0%, var(--gray-900) 100%);
            border-radius: var(--radius);
            padding: 16px;
            text-align: center;
            color: white;
            margin-bottom: 16px;
        }

        .total-preview .label {
            font-size: 0.75rem;
            color: var(--gray-400);
            margin-bottom: 4px;
        }

        .total-preview .amount {
            font-size: 1.75rem;
            font-weight: 700;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“š ê¹€ì—„ë§ˆë…ì„œì‹¤</h1>
            <div class="version">ê²°ì œ ê²€ì¦ ì‹œìŠ¤í…œ v2</div>
            <div class="header-actions">
                <button class="icon-btn" onclick="toggleTheme()" title="ë‹¤í¬ëª¨ë“œ">
                    <svg id="theme-icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
                    </svg>
                </button>
            </div>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchSection('verify')">ğŸ” ê²€ì¦</button>
            <button class="nav-tab" onclick="switchSection('calculator')">ğŸ’° ê³„ì‚°ê¸°</button>
            <button class="nav-tab" onclick="switchSection('rates')">ğŸ“‹ ìš”ê¸ˆí‘œ</button>
        </div>

        <!-- ê²€ì¦ ì„¹ì…˜ -->
        <div class="section active" id="section-verify">
            <div class="floor-tabs">
                <button class="floor-tab floor-8 active" onclick="selectFloor(8)">
                    <span>8ì¸µ</span>
                    <span class="count" id="floor8-count">115ëª…</span>
                </button>
                <button class="floor-tab floor-7" onclick="selectFloor(7)">
                    <span>7ì¸µ</span>
                    <span class="count" id="floor7-count">46ëª…</span>
                </button>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2>ğŸ‘¤ í•™ìƒ ì„ íƒ</h2>
                </div>
                <div class="card-body">
                    <div class="seat-filter" id="seat-filter"></div>
                    <div class="search-box">
                        <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                        <input type="text" id="student-search" placeholder="í•™ìƒ ì´ë¦„ ê²€ìƒ‰..." oninput="filterStudents()">
                    </div>
                    <div class="student-list" id="student-list"></div>
                </div>
            </div>

            <div class="card" id="verify-card" style="display: none;">
                <div class="card-header">
                    <h2>ğŸ” ê²°ì œ ê²€ì¦</h2>
                </div>
                <div class="card-body">
                    <div class="selected-student-card" id="selected-student-info"></div>

                    <div class="form-group">
                        <label>ì´ìš© ê¸°ê°„</label>
                        <div class="period-grid">
                            <button class="period-btn" onclick="selectPeriod(1)" data-period="1">1ê°œì›”<span class="weeks">4ì£¼</span></button>
                            <button class="period-btn" onclick="selectPeriod(2)" data-period="2">2ê°œì›”<span class="weeks">8ì£¼</span></button>
                            <button class="period-btn" onclick="selectPeriod(3)" data-period="3">3ê°œì›”<span class="weeks">12ì£¼</span></button>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>ê²°ì œì¼ (ë“±ì›ì¼)</label>
                            <input type="number" id="payment-day" placeholder="ì˜ˆ: 15" min="1" max="31" oninput="updatePreview()">
                            <div class="help-text">ì›” ê¸°ì¤€ ë“±ì› ì‹œì‘ì¼</div>
                        </div>
                        <div class="form-group">
                            <label>ì œì™¸ ì¼ìˆ˜</label>
                            <input type="number" id="exclude-days" placeholder="0" min="0" value="0" oninput="updatePreview()">
                            <div class="help-text">ë°©í•™ ë“± ì œì™¸</div>
                        </div>
                    </div>

                    <!-- ì˜µì…˜ ì„¹ì…˜ -->
                    <div class="options-section">
                        <div class="options-title">âš™ï¸ ì¶”ê°€ ì˜µì…˜</div>
                        
                        <!-- ì‚¬ë¬¼í•¨ -->
                        <div class="option-item" onclick="toggleOption('locker')">
                            <input type="checkbox" id="opt-locker" onchange="updatePreview()">
                            <span class="option-label">ğŸ” ì‚¬ë¬¼í•¨</span>
                            <span class="option-value">+20,000ì›/ì›”</span>
                        </div>

                        <!-- í• ì¸ -->
                        <div class="options-title" style="margin-top: 16px; border-top: none; padding-top: 0;">ğŸ·ï¸ í• ì¸ ì ìš©</div>
                        <div class="discount-btn-group">
                            <button class="discount-btn" data-discount="0" onclick="selectDiscount(0)">ì—†ìŒ</button>
                            <button class="discount-btn" data-discount="10" onclick="selectDiscount(10)">10%</button>
                            <button class="discount-btn" data-discount="20" onclick="selectDiscount(20)">20%</button>
                        </div>

                        <!-- ë©˜í† ë§ -->
                        <div class="option-input-group">
                            <label>ğŸ“ ë©˜í† ë§ë¹„</label>
                            <input type="number" id="mentoring-fee" placeholder="0" min="0" oninput="updatePreview()">
                            <span style="color: var(--gray-500); font-size: 0.875rem;">ì›</span>
                        </div>
                    </div>

                    <!-- ì˜ˆìƒ ê¸ˆì•¡ ë¯¸ë¦¬ë³´ê¸° -->
                    <div class="total-preview" id="total-preview">
                        <div class="label">ì˜ˆìƒ ê²°ì œê¸ˆì•¡</div>
                        <div class="amount">â‚©0</div>
                    </div>

                    <div class="form-group">
                        <label>ì‹¤ì œ ê²°ì œê¸ˆì•¡ (ì›)</label>
                        <input type="number" id="actual-amount" placeholder="ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ê¸ˆì•¡ ì…ë ¥" oninput="updatePreview()">
                    </div>

                    <button class="action-btn primary" id="verify-btn" onclick="verifyPayment()" disabled>
                        ğŸ” ê²€ì¦í•˜ê¸°
                    </button>
                </div>
            </div>

            <div id="verify-result-container"></div>
        </div>

        <!-- ê³„ì‚°ê¸° ì„¹ì…˜ -->
        <div class="section" id="section-calculator">
            <div class="card">
                <div class="card-header">
                    <h2>ğŸ’° ê²°ì œ ê³„ì‚°ê¸°</h2>
                </div>
                <div class="card-body">
                    <div class="form-group">
                        <label>ì¢Œì„ ìœ í˜•</label>
                        <select id="calc-seat-type" onchange="updateCalc()">
                            <option value="ììœ ì„">ììœ ì„ (8ì¸µ)</option>
                            <option value="ì§€ì •ì„_ì—¬">ì§€ì •ì„_ì—¬ (8ì¸µ/7ì¸µ)</option>
                            <option value="ì§€ì •ì„_ë‚¨">ì§€ì •ì„_ë‚¨ (8ì¸µ/7ì¸µ)</option>
                            <option value="ì¹¸ë§‰ì´">ì¹¸ë§‰ì´ (8ì¸µ/7ì¸µ)</option>
                            <option value="í”„ë¦¬ë¯¸ì—„">í”„ë¦¬ë¯¸ì—„ (7ì¸µ)</option>
                        </select>
                    </div>

                    <div class="form-row-3">
                        <div class="form-group">
                            <label>ê¸°ê°„</label>
                            <select id="calc-period" onchange="updateCalc()">
                                <option value="1">1ê°œì›”</option>
                                <option value="2">2ê°œì›”</option>
                                <option value="3">3ê°œì›”</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>ë“±ì›ì¼</label>
                            <input type="number" id="calc-day" placeholder="1" min="1" max="31" value="1" oninput="updateCalc()">
                        </div>
                        <div class="form-group">
                            <label>ì œì™¸ì¼</label>
                            <input type="number" id="calc-exclude" placeholder="0" min="0" value="0" oninput="updateCalc()">
                        </div>
                    </div>

                    <div class="options-section">
                        <div class="options-title">âš™ï¸ ì¶”ê°€ ì˜µì…˜</div>
                        
                        <div class="option-item" onclick="toggleCalcOption('locker')">
                            <input type="checkbox" id="calc-opt-locker" onchange="updateCalc()">
                            <span class="option-label">ğŸ” ì‚¬ë¬¼í•¨</span>
                            <span class="option-value">+20,000ì›/ì›”</span>
                        </div>

                        <div class="options-title" style="margin-top: 16px; border-top: none; padding-top: 0;">ğŸ·ï¸ í• ì¸</div>
                        <div class="discount-btn-group">
                            <button class="discount-btn calc-discount" data-discount="0" onclick="selectCalcDiscount(0)">ì—†ìŒ</button>
                            <button class="discount-btn calc-discount" data-discount="10" onclick="selectCalcDiscount(10)">10%</button>
                            <button class="discount-btn calc-discount" data-discount="20" onclick="selectCalcDiscount(20)">20%</button>
                        </div>

                        <div class="option-input-group">
                            <label>ğŸ“ ë©˜í† ë§ë¹„</label>
                            <input type="number" id="calc-mentoring" placeholder="0" min="0" oninput="updateCalc()">
                            <span style="color: var(--gray-500); font-size: 0.875rem;">ì›</span>
                        </div>
                    </div>

                    <div id="calc-result" style="margin-top: 16px;"></div>
                </div>
            </div>
        </div>

        <!-- ìš”ê¸ˆí‘œ ì„¹ì…˜ -->
        <div class="section" id="section-rates">
            <div class="card">
                <div class="card-header">
                    <h2>ğŸ“‹ 8ì¸µ ìš”ê¸ˆí‘œ</h2>
                </div>
                <div class="card-body">
                    <div class="price-table">
                        <div class="price-table-row"><span class="label">ììœ ì„ 1ê°œì›”</span><span class="value">220,000ì›</span></div>
                        <div class="price-table-row"><span class="label">ììœ ì„ 2ê°œì›”</span><span class="value">400,000ì›</span></div>
                        <div class="price-table-row"><span class="label">ììœ ì„ 3ê°œì›”</span><span class="value">540,000ì›</span></div>
                        <div class="price-table-row"><span class="label">ì§€ì •ì„ 1ê°œì›”</span><span class="value">350,000ì›</span></div>
                        <div class="price-table-row"><span class="label">ì§€ì •ì„ 2ê°œì›”</span><span class="value">640,000ì›</span></div>
                        <div class="price-table-row"><span class="label">ì§€ì •ì„ 3ê°œì›”</span><span class="value">870,000ì›</span></div>
                        <div class="price-table-row"><span class="label">ì¹¸ë§‰ì´ 1ê°œì›”</span><span class="value">400,000ì›</span></div>
                        <div class="price-table-row"><span class="label">ì¹¸ë§‰ì´ 2ê°œì›”</span><span class="value">730,000ì›</span></div>
                        <div class="price-table-row"><span class="label">ì¹¸ë§‰ì´ 3ê°œì›”</span><span class="value">1,000,000ì›</span></div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2>ğŸ“‹ 7ì¸µ ìš”ê¸ˆí‘œ</h2>
                </div>
                <div class="card-body">
                    <div class="price-table">
                        <div class="price-table-row"><span class="label">í”„ë¦¬ë¯¸ì—„ 1ê°œì›”</span><span class="value">450,000ì›</span></div>
                        <div class="price-table-row"><span class="label">í”„ë¦¬ë¯¸ì—„ 2ê°œì›”</span><span class="value">820,000ì›</span></div>
                        <div class="price-table-row"><span class="label">í”„ë¦¬ë¯¸ì—„ 3ê°œì›”</span><span class="value">1,120,000ì›</span></div>
                        <div class="price-table-row"><span class="label">ì§€ì •ì„ 1ê°œì›”</span><span class="value">350,000ì›</span></div>
                        <div class="price-table-row"><span class="label">ì§€ì •ì„ 2ê°œì›”</span><span class="value">640,000ì›</span></div>
                        <div class="price-table-row"><span class="label">ì§€ì •ì„ 3ê°œì›”</span><span class="value">870,000ì›</span></div>
                        <div class="price-table-row"><span class="label">ì¹¸ë§‰ì´ 1ê°œì›”</span><span class="value">400,000ì›</span></div>
                        <div class="price-table-row"><span class="label">ì¹¸ë§‰ì´ 2ê°œì›”</span><span class="value">730,000ì›</span></div>
                        <div class="price-table-row"><span class="label">ì¹¸ë§‰ì´ 3ê°œì›”</span><span class="value">1,000,000ì›</span></div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2>ğŸ“‹ ì¶”ê°€ ì˜µì…˜</h2>
                </div>
                <div class="card-body">
                    <div class="price-table">
                        <div class="price-table-row"><span class="label">ğŸ” ì‚¬ë¬¼í•¨</span><span class="value">20,000ì›/ì›”</span></div>
                        <div class="price-table-row"><span class="label">ğŸ·ï¸ ì¿ í° í• ì¸</span><span class="value">10% ë˜ëŠ” 20%</span></div>
                        <div class="price-table-row"><span class="label">ğŸ“ ë©˜í† ë§</span><span class="value">ê¸ˆì•¡ ë³„ë„</span></div>
                    </div>
                    <div class="daily-rate-info">
                        <strong>ğŸ’¡ ì¼í•  ê³„ì‚° ë°©ì‹</strong><br>
                        â€¢ ê¸°ë³¸ìš”ê¸ˆ Ã· 30ì¼ Ã— ì´ìš©ì¼ìˆ˜<br>
                        â€¢ ë“±ì›ì¼ ê¸°ì¤€: 31 - ë“±ì›ì¼ = ì´ìš©ì¼ìˆ˜<br>
                        â€¢ í• ì¸ì€ ì¢Œì„ìš”ê¸ˆì—ë§Œ ì ìš© (ì‚¬ë¬¼í•¨/ë©˜í† ë§ ì œì™¸)
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="toast" id="toast">
        <span id="toast-message">ë©”ì‹œì§€</span>
    </div>

    <script>
        const priceData = {
            8: {
                'ììœ ì„': { 1: 220000, 2: 400000, 3: 540000 },
                'ì§€ì •ì„_ì—¬': { 1: 350000, 2: 640000, 3: 870000 },
                'ì§€ì •ì„_ë‚¨': { 1: 350000, 2: 640000, 3: 870000 },
                'ì¹¸ë§‰ì´': { 1: 400000, 2: 730000, 3: 1000000 }
            },
            7: {
                'í”„ë¦¬ë¯¸ì—„': { 1: 450000, 2: 820000, 3: 1120000 },
                'ì§€ì •ì„_ì—¬': { 1: 350000, 2: 640000, 3: 870000 },
                'ì§€ì •ì„_ë‚¨': { 1: 350000, 2: 640000, 3: 870000 },
                'ì¹¸ë§‰ì´': { 1: 400000, 2: 730000, 3: 1000000 }
            }
        };

        const LOCKER_FEE = 20000; // ì‚¬ë¬¼í•¨ ì›” ë¹„ìš©

        const seatTypes = {
            8: ['ì „ì²´', 'ììœ ì„', 'ì§€ì •ì„_ì—¬', 'ì§€ì •ì„_ë‚¨', 'ì¹¸ë§‰ì´'],
            7: ['ì „ì²´', 'í”„ë¦¬ë¯¸ì—„', 'ì§€ì •ì„_ì—¬', 'ì§€ì •ì„_ë‚¨', 'ì¹¸ë§‰ì´']
        };

        // 8ì¸µ 115ëª… í•™ìƒ ë°ì´í„°
        const students = {
            8: [
                { name: 'ì–‘ì¤€ë¹ˆ', phone: '010-5029-5112', parentPhone: '010-7652-5112', seatType: 'ììœ ì„', seatNumber: '101' },
                { name: 'ìµœì¤€ì„œ', phone: '010-3085-7594', parentPhone: '010-3082-7594', seatType: 'ììœ ì„', seatNumber: '102' },
                { name: 'ì´í˜œë¯¼', phone: '010-2234-4376', parentPhone: '010-2553-4376', seatType: 'ììœ ì„', seatNumber: '105' },
                { name: 'ê¹€ìˆ˜ì˜', phone: '010-5859-8232', parentPhone: '010-2958-8232', seatType: 'ììœ ì„', seatNumber: '113' },
                { name: 'ê¹€ì—°ì¤€', phone: '010-6516-4711', parentPhone: '010-3894-4711', seatType: 'ììœ ì„', seatNumber: '116' },
                { name: 'ë³€ìš°ì„', phone: '', parentPhone: '', seatType: 'ììœ ì„', seatNumber: '117' },
                { name: 'ìœ ìŠ¹ì°¬', phone: '', parentPhone: '', seatType: 'ììœ ì„', seatNumber: '120' },
                { name: 'ì¶”ì—¬ë¦¼', phone: '010-3982-9377', parentPhone: '010-7339-9377', seatType: 'ììœ ì„', seatNumber: '123' },
                { name: 'ì´ì±„ìœ¤', phone: '010-8464-2920', parentPhone: '010-8374-2920', seatType: 'ììœ ì„', seatNumber: '125' },
                { name: 'ì£¼ì§€ì›', phone: '000-000-0000', parentPhone: '010-4164-3132', seatType: 'ììœ ì„', seatNumber: '127' },
                { name: 'ë°•í˜„í¬', phone: '010-5295-3128', parentPhone: '010-9253-4998', seatType: 'ììœ ì„', seatNumber: '128' },
                { name: 'ê¹€í˜œë¯¼', phone: '000-000-0000', parentPhone: '010-9123-3702', seatType: 'ììœ ì„', seatNumber: '131' },
                { name: 'ì´ì§€íš¨', phone: '010-9296-1532', parentPhone: '010-6286-1532', seatType: 'ììœ ì„', seatNumber: '133' },
                { name: 'ê¹€ë„ì›', phone: '010-9704-7060', parentPhone: '010-4255-7060', seatType: 'ììœ ì„', seatNumber: '134' },
                { name: 'ë¥˜ë³´ë¯¼', phone: '010-3005-9754', parentPhone: '010-8990-9754', seatType: 'ììœ ì„', seatNumber: '135' },
                { name: 'ì •ì±„ì—°', phone: '010-6322-0235', parentPhone: '010-2962-6335', seatType: 'ììœ ì„', seatNumber: '136' },
                { name: 'í•œê±´í¬', phone: '010-4864-7963', parentPhone: '010-4118-7963', seatType: 'ììœ ì„', seatNumber: '140' },
                { name: 'ë°•ì§€ë¯¼', phone: '010-3141-6192', parentPhone: '010-9093-6192', seatType: 'ììœ ì„', seatNumber: '141' },
                { name: 'ê¹€ë‹¤ì€', phone: '010-3767-9187', parentPhone: '010-9357-9187', seatType: 'ììœ ì„', seatNumber: '144' },
                { name: 'ë°±ì¤€í•˜', phone: '000-0000-0000', parentPhone: '010-9571-0705', seatType: 'ììœ ì„', seatNumber: '145' },
                { name: 'ì´í˜„ìš°', phone: '', parentPhone: '010-7338-1417', seatType: 'ììœ ì„', seatNumber: '146' },
                { name: 'ê°•ì„±ì¤€', phone: '010-5287-4067', parentPhone: '010-4156-5067', seatType: 'ììœ ì„', seatNumber: '147' },
                { name: 'ì„±ë¯¼ì§„', phone: '010-8688-0857', parentPhone: '010-3205-6126', seatType: 'ììœ ì„', seatNumber: '148' },
                { name: 'ì¡°ì¬ì›', phone: '010-2940-6749', parentPhone: '010-3009-6749', seatType: 'ììœ ì„', seatNumber: '153' },
                { name: 'ì—°ì„œì§„', phone: '010-2823-8842', parentPhone: '010-9059-4132', seatType: 'ììœ ì„', seatNumber: '158' },
                { name: 'ì´ìœ í™˜', phone: '010-3398-7769', parentPhone: '010-2264-7769', seatType: 'ììœ ì„', seatNumber: '103' },
                { name: 'ì˜¤ì˜ˆë¦°', phone: '010-9656-8849', parentPhone: '010-7662-8849', seatType: 'ììœ ì„', seatNumber: '104' },
                { name: 'ë°•ì„œì§„', phone: '010-5909-7240', parentPhone: '010-2433-7249', seatType: 'ììœ ì„', seatNumber: '106' },
                { name: 'ìµœìˆ˜ë¹ˆ', phone: '010-2973-9856', parentPhone: '010-2619-9856', seatType: 'ììœ ì„', seatNumber: '107' },
                { name: 'ê¹€íƒœìš±', phone: '010-9508-5976', parentPhone: '010-9528-5976', seatType: 'ììœ ì„', seatNumber: '108' },
                { name: 'ì´ìœ ë‹´', phone: '010-7928-6947', parentPhone: '010-8788-6947', seatType: 'ììœ ì„', seatNumber: '109' },
                { name: 'ê¹€ì£¼í˜•', phone: '010-6471-5419', parentPhone: '010-9396-1274', seatType: 'ììœ ì„', seatNumber: '110' },
                { name: 'ì„ì†”ìš°', phone: '010-8863-8325', parentPhone: '010-8564-8325', seatType: 'ììœ ì„', seatNumber: '111' },
                { name: 'ê¹€ë¯¼ì°¬', phone: '010-2847-0155', parentPhone: '010-7351-0155', seatType: 'ììœ ì„', seatNumber: '112' },
                { name: 'ë°•ì„œì¤€', phone: '010-9814-3463', parentPhone: '010-5873-3466', seatType: 'ììœ ì„', seatNumber: '114' },
                { name: 'ì´ì‹œìš°', phone: '010-9078-3190', parentPhone: '010-5272-0088', seatType: 'ììœ ì„', seatNumber: '115' },
                { name: 'ì‹¬ì˜ˆë‚˜', phone: '000-000-0000', parentPhone: '010-9104-5891', seatType: 'ììœ ì„', seatNumber: '118' },
                { name: 'ê¹€ì§€ìˆ˜', phone: '010-2771-2301', parentPhone: '010-4821-2301', seatType: 'ììœ ì„', seatNumber: '119' },
                { name: 'ìµœìœ¤í•˜', phone: '010-8028-5433', parentPhone: '010-3723-3777', seatType: 'ììœ ì„', seatNumber: '121' },
                { name: 'ì‹ ì¬í¬', phone: '010-2412-6310', parentPhone: '010-5187-6310', seatType: 'ììœ ì„', seatNumber: '122' },
                { name: 'ìµœì‹œì€', phone: '010-3782-5548', parentPhone: '010-9077-5558', seatType: 'ììœ ì„', seatNumber: '124' },
                { name: 'ë°•ê²½ì¤€', phone: '010-9564-2104', parentPhone: '010-2298-2104', seatType: 'ììœ ì„', seatNumber: '126' },
                { name: 'ê¹€ê°€ì˜', phone: '010-6427-9130', parentPhone: '010-6311-9130', seatType: 'ììœ ì„', seatNumber: '129' },
                { name: 'ê¹€ì†Œì •', phone: '010-3012-7898', parentPhone: '010-5466-7898', seatType: 'ììœ ì„', seatNumber: '130' },
                { name: 'ìµœì •í˜', phone: '010-6797-3708', parentPhone: '010-2797-3708', seatType: 'ììœ ì„', seatNumber: '132' },
                { name: 'ì •ì§€ìš°', phone: '010-4934-7935', parentPhone: '010-6829-1219', seatType: 'ììœ ì„', seatNumber: '137' },
                { name: 'ì¡°ìŠ¹ì°¬', phone: '010-8895-8478', parentPhone: '010-3219-2151', seatType: 'ììœ ì„', seatNumber: '138' },
                { name: 'ì´ì—°ìš°', phone: '010-4872-2510', parentPhone: '010-2854-0924', seatType: 'ììœ ì„', seatNumber: '139' },
                { name: 'ê¸ˆì¤€ì„œ', phone: '010-8694-9636', parentPhone: '010-7194-9636', seatType: 'ììœ ì„', seatNumber: '142' },
                { name: 'ê¹€ì„œì—°', phone: '010-4794-0038', parentPhone: '010-8608-0252', seatType: 'ììœ ì„', seatNumber: '143' },
                { name: 'ê³ í•œë¹ˆ', phone: '010-9130-5182', parentPhone: '010-9173-5182', seatType: 'ììœ ì„', seatNumber: '149' },
                { name: 'ì¥ì€ì†¡', phone: '010-9427-3143', parentPhone: '010-9788-8661', seatType: 'ììœ ì„', seatNumber: '151' },
                { name: 'ìµœì„í˜„', phone: '010-9315-2412', parentPhone: '010-3296-4370', seatType: 'ììœ ì„', seatNumber: '152' },
                { name: 'ì¥ì§€í›„', phone: '010-2134-5865', parentPhone: '010-3489-5865', seatType: 'ììœ ì„', seatNumber: '154' },
                { name: 'ê³½ì§€ìš°', phone: '010-2585-9417', parentPhone: '010-8267-9417', seatType: 'ììœ ì„', seatNumber: '155' },
                { name: 'ì´ì†Œì •', phone: '010-3955-2245', parentPhone: '010-8819-9555', seatType: 'ììœ ì„', seatNumber: '156' },
                { name: 'ì •ê·œí—Œ', phone: '010-7671-2883', parentPhone: '010-8516-9520', seatType: 'ììœ ì„', seatNumber: '157' },
                { name: 'ê°•ì˜ˆì›', phone: '010-6243-2643', parentPhone: '010-6277-2643', seatType: 'ììœ ì„', seatNumber: '160' },
                { name: 'ì´í˜„ìŠ¹', phone: '010-5233-3295', parentPhone: '010-9265-3295', seatType: 'ììœ ì„', seatNumber: '161' },
                { name: 'ê¹€ì—°ì„œ', phone: '010-2396-0796', parentPhone: '010-6315-0796', seatType: 'ì¹¸ë§‰ì´', seatNumber: '1' },
                { name: 'ì´ìœ¤ì§€', phone: '010-5676-1065', parentPhone: '010-5207-1065', seatType: 'ì¹¸ë§‰ì´', seatNumber: '2' },
                { name: 'ì„±ì˜ˆì¤€', phone: '010-4062-7663', parentPhone: '010-2611-4881', seatType: 'ì¹¸ë§‰ì´', seatNumber: '3' },
                { name: 'ë°±ì£¼í˜¸', phone: '010-6696-5001', parentPhone: '010-9945-5000', seatType: 'ì¹¸ë§‰ì´', seatNumber: '4' },
                { name: 'í•˜ì¤€ìš°', phone: '000-0000-0000', parentPhone: '010-9172-8400', seatType: 'ì¹¸ë§‰ì´', seatNumber: '5' },
                { name: 'ì†¡ë‚˜í˜„', phone: '010-4674-0132', parentPhone: '010-3083-7856', seatType: 'ì¹¸ë§‰ì´', seatNumber: '6' },
                { name: 'í™©ì§€ìœ¤', phone: '010-8927-8179', parentPhone: '010-8936-8179', seatType: 'ì¹¸ë§‰ì´', seatNumber: '7' },
                { name: 'ìœ¤ì˜ˆì„œ', phone: '010-9403-0773', parentPhone: '010-4631-7740', seatType: 'ì¹¸ë§‰ì´', seatNumber: '8' },
                { name: 'ê¹€ë¯¼ìš°', phone: '010-4005-7508', parentPhone: '010-7299-7508', seatType: 'ì¹¸ë§‰ì´', seatNumber: '9' },
                { name: 'ë°•ì§€ì›', phone: '010-8767-5827', parentPhone: '010-8735-5827', seatType: 'ì¹¸ë§‰ì´', seatNumber: '10' },
                { name: 'ì˜¤ì¢…í˜„', phone: '010-4670-7925', parentPhone: '010-5090-7925', seatType: 'ì¹¸ë§‰ì´', seatNumber: '11' },
                { name: 'ê¹€ì˜ˆë‚˜', phone: '010-3277-5128', parentPhone: '010-5327-5128', seatType: 'ì¹¸ë§‰ì´', seatNumber: '12' },
                { name: 'ì‹ ìœ ë¹ˆ', phone: '010-4102-5364', parentPhone: '010-9532-5362', seatType: 'ì¹¸ë§‰ì´', seatNumber: '13' },
                { name: 'ê¹€ìš©í¬', phone: '010-3713-1890', parentPhone: '010-3713-1890', seatType: 'ì¹¸ë§‰ì´', seatNumber: '14' },
                { name: 'ê¹€í˜„ì¤€', phone: '010-6296-9810', parentPhone: '010-5582-4384', seatType: 'ì¹¸ë§‰ì´', seatNumber: '15' },
                { name: 'ê¶Œì¤€ìš°', phone: '010-9145-1829', parentPhone: '010-8699-1829', seatType: 'ì¹¸ë§‰ì´', seatNumber: '16' },
                { name: 'ì¡°ì˜ì¤€', phone: '010-4647-7630', parentPhone: '010-9449-6047', seatType: 'ì¹¸ë§‰ì´', seatNumber: '17' },
                { name: 'í•œìŠ¹ì£¼', phone: '010-4940-3633', parentPhone: '010-8893-3633', seatType: 'ì¹¸ë§‰ì´', seatNumber: '18' },
                { name: 'ê¹€ê·œíƒœ', phone: '010-7591-2747', parentPhone: '010-5163-7714', seatType: 'ì¹¸ë§‰ì´', seatNumber: '19' },
                { name: 'ì¡°ì˜ˆì›', phone: '010-9915-5683', parentPhone: '010-8834-5683', seatType: 'ì¹¸ë§‰ì´', seatNumber: '20' },
                { name: 'ë°°ì°½ë¯¼', phone: '010-6860-8832', parentPhone: '010-3414-8832', seatType: 'ì¹¸ë§‰ì´', seatNumber: '21' },
                { name: 'ì‹ ì›ì¤€', phone: '010-8912-9704', parentPhone: '010-2382-9704', seatType: 'ì¹¸ë§‰ì´', seatNumber: '22' },
                { name: 'ë°©ì†Œì—°', phone: '010-3675-8697', parentPhone: '010-3358-0688', seatType: 'ì¹¸ë§‰ì´', seatNumber: '23' },
                { name: 'ì†¡ì€ì„œ', phone: '010-5570-9186', parentPhone: '010-2563-9168', seatType: 'ì¹¸ë§‰ì´', seatNumber: '24' },
                { name: 'í•œì„±íš¨', phone: '010-4761-2409', parentPhone: '010-4623-0568', seatType: 'ì¹¸ë§‰ì´', seatNumber: '25' },
                { name: 'ê¹€ì±„ì›', phone: '010-6637-7632', parentPhone: '010-3613-7632', seatType: 'ì¹¸ë§‰ì´', seatNumber: '26' },
                { name: 'ì´ì„ì •', phone: '010-9558-2653', parentPhone: '010-4753-2653', seatType: 'ì¹¸ë§‰ì´', seatNumber: '27' },
                { name: 'ì´í•´ì„±', phone: '010-2173-2035', parentPhone: '010-6652-2035', seatType: 'ì¹¸ë§‰ì´', seatNumber: '28' },
                { name: 'ì¥ì—°ìš°', phone: '010-6854-1040', parentPhone: '010-8875-3377', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '29' },
                { name: 'ìµœì£¼ì›', phone: '014-8911-6292', parentPhone: '010-6318-0945', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '30' },
                { name: 'ì´ì„œì—°', phone: '010-6235-3867', parentPhone: '010-6330-9299', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '31' },
                { name: 'ìœ ë¯¼ì„œ', phone: '010-2123-5792', parentPhone: '010-3657-5792', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '32' },
                { name: 'ê°•ì˜ˆì„œ', phone: '010-2636-2826', parentPhone: '010-6495-0328', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '33' },
                { name: 'ë°•ì„œìœ¤', phone: '010-6449-4562', parentPhone: '010-9333-4562', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '34' },
                { name: 'ë°°ì„±ì˜', phone: '010-6233-5457', parentPhone: '010-6553-1472', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '35' },
                { name: 'ì˜¤ìœ¤ì£¼', phone: '010-4677-6482', parentPhone: '010-2977-4066', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '36' },
                { name: 'ì†¡ë‹¤ë¯¸', phone: '010-7466-7087', parentPhone: '010-8518-7332', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '37' },
                { name: 'ì •ì˜ˆë¦¼', phone: '010-5294-5329', parentPhone: '010-5290-5329', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '38' },
                { name: 'ê¹€ë‚˜í˜„', phone: '010-4331-9741', parentPhone: '010-8957-2920', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '39' },
                { name: 'ì†¡ìˆ˜ë¦°', phone: '010-2479-8014', parentPhone: '010-5738-8014', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '40' },
                { name: 'ë°•ì€ì„œ', phone: '010-3390-6592', parentPhone: '010-2654-0937', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '41' },
                { name: 'ì´ì„ ë¯¼', phone: '010-7679-8044', parentPhone: '010-6352-8044', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '42' },
                { name: 'ë°±ì§„í™˜', phone: '010-4021-1592', parentPhone: '010-5005-1204', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '43' },
                { name: 'ìœ¤ìˆ˜í˜', phone: '010-3107-4890', parentPhone: '010-4149-4890', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '44' },
                { name: 'ì˜¤ìŠ¹ì¤€', phone: '010-8466-0849', parentPhone: '010-8957-0849', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '45' },
                { name: 'ë°±ì •ì¤€', phone: '010-4992-1082', parentPhone: '010-4943-1082', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '46' },
                { name: 'ë°•ì§„ê· ', phone: '010-9106-4316', parentPhone: '010-9446-4316', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '47' },
                { name: 'ë¬¸ì„œì§„', phone: '010-9230-3782', parentPhone: '010-9031-7577', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '48' },
                { name: 'ê°•ì¤€í˜', phone: '010-6542-7286', parentPhone: '010-2710-7286', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '49' },
                { name: 'ì†ì œí›ˆ', phone: '010-5104-0657', parentPhone: '010-5104-0657', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '50' },
                { name: 'ì´ì„¸í˜„', phone: '010-3064-2498', parentPhone: '010-9170-2498', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '51' },
                { name: 'ë°•ì„±ì§„', phone: '010-4248-3890', parentPhone: '010-9872-0112', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '52' },
                { name: 'ìµœì„í˜„(ì§€ì •)', phone: '010-9315-2412', parentPhone: '010-3296-4370', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '53' },
                { name: 'ì´ë„í—Œ', phone: '010-5676-1408', parentPhone: '', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '54' },
                { name: 'ì‹¬íƒœìš©', phone: '010-2419-3398', parentPhone: '010-2854-0829', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '55' },
                { name: 'ë¬¸í•˜ë¯¼', phone: '010-7116-8120', parentPhone: '010-2716-8120', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '56' }
            ],
            7: [
                { name: 'ê¹€í•œë‚˜', phone: '010-5701-6330', parentPhone: '010-9117-3737', seatType: 'í”„ë¦¬ë¯¸ì—„', seatNumber: '1' },
                { name: 'ìœ¤ì„œì¤€', phone: '010-5861-5654', parentPhone: '010-2546-3622', seatType: 'í”„ë¦¬ë¯¸ì—„', seatNumber: '2' },
                { name: 'ë°•ì°¬ìš°', phone: '010-7531-9073', parentPhone: '010-4606-1607', seatType: 'í”„ë¦¬ë¯¸ì—„', seatNumber: '3' },
                { name: 'ì„±ì§€ì›', phone: '010-9269-3446', parentPhone: '010-8826-3446', seatType: 'í”„ë¦¬ë¯¸ì—„', seatNumber: '4' },
                { name: 'ê¶ŒëŒ€í¬', phone: '010-3012-0936', parentPhone: '010-2509-6280', seatType: 'í”„ë¦¬ë¯¸ì—„', seatNumber: '5' },
                { name: 'í™©ìˆ˜ì§„', phone: '010-5460-1051', parentPhone: '010-6621-1051', seatType: 'í”„ë¦¬ë¯¸ì—„', seatNumber: '6' },
                { name: 'ì†ìœ ì£¼', phone: '010-4644-2055', parentPhone: '010-2731-2055', seatType: 'í”„ë¦¬ë¯¸ì—„', seatNumber: '7' },
                { name: 'ê¹€í¬ì§„', phone: '010-7386-5651', parentPhone: '010-3257-5651', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '8' },
                { name: 'ì¡°ì„œì—°', phone: '010-2577-4062', parentPhone: '010-4524-4062', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '9' },
                { name: 'ê¹€ì¤€í¬', phone: '010-8348-9302', parentPhone: '010-3382-9302', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '10' },
                { name: 'ê¹€ì±„ì´', phone: '010-3765-7528', parentPhone: '010-5191-7528', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '11' },
                { name: 'ì´ì€êµ', phone: '010-4624-4576', parentPhone: '010-4569-4576', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '12' },
                { name: 'ì´ì„œì›', phone: '010-2407-9830', parentPhone: '010-3808-1799', seatType: 'ì§€ì •ì„_ì—¬', seatNumber: '13' },
                { name: 'ì´ê°•ìš°', phone: '010-9397-4649', parentPhone: '010-2744-4649', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '14' },
                { name: 'ì„œê°•ë•', phone: '010-9160-2996', parentPhone: '010-5333-2996', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '15' },
                { name: 'ë°•ìƒì–¸', phone: '010-5534-6518', parentPhone: '010-6275-6518', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '16' },
                { name: 'ì¡°ì¸ì„±', phone: '010-7109-5804', parentPhone: '010-6604-5804', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '17' },
                { name: 'ë°•ì„¸ì§„', phone: '010-3723-3890', parentPhone: '010-9429-3890', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '18' },
                { name: 'ê¹€ë™ì¤€', phone: '010-6790-6263', parentPhone: '010-2792-6263', seatType: 'ì§€ì •ì„_ë‚¨', seatNumber: '19' },
                { name: 'ê³µíƒœë¯¼', phone: '010-5112-5372', parentPhone: '010-3275-5372', seatType: 'ì¹¸ë§‰ì´', seatNumber: '20' },
                { name: 'ì‹¬ê·œë¯¼', phone: '000-0000-0000', parentPhone: '010-2389-0123', seatType: 'ì¹¸ë§‰ì´', seatNumber: '21' },
                { name: 'ì´ì¬ë¹ˆ', phone: '010-6790-6264', parentPhone: '010-5645-3521', seatType: 'ì¹¸ë§‰ì´', seatNumber: '22' },
                { name: 'ê¹€íƒœìœ¤', phone: '000-0000-0000', parentPhone: '010-6471-2138', seatType: 'ì¹¸ë§‰ì´', seatNumber: '23' },
                { name: 'ìœ¤ì±„ì›', phone: '010-9842-2012', parentPhone: '010-9008-5012', seatType: 'ì¹¸ë§‰ì´', seatNumber: '24' },
                { name: 'ì •ì„±í˜¸', phone: '010-5093-6224', parentPhone: '010-6246-6224', seatType: 'ì¹¸ë§‰ì´', seatNumber: '25' },
                { name: 'í™ì§„ìš°', phone: '010-9927-6721', parentPhone: '010-9192-6721', seatType: 'ì¹¸ë§‰ì´', seatNumber: '26' },
                { name: 'ì¡°ê²½ìœ¨', phone: '010-4002-7196', parentPhone: '010-5480-9885', seatType: 'ì¹¸ë§‰ì´', seatNumber: '26' },
                { name: 'ì„ìŠ¹ì›', phone: '010-4085-4508', parentPhone: '010-4718-4508', seatType: 'ì¹¸ë§‰ì´', seatNumber: '27' },
                { name: 'ê°•ìœ ì˜¨', phone: '000-000-0000', parentPhone: '010-4575-6218', seatType: 'ì¹¸ë§‰ì´', seatNumber: '28' },
                { name: 'ìµœìœ¤í•˜', phone: '010-5028-5433', parentPhone: '010-3723-3777', seatType: 'ì¹¸ë§‰ì´', seatNumber: '29' },
                { name: 'ì´ë¯¼í˜', phone: '010-5909-6051', parentPhone: '010-3072-6051', seatType: 'ì¹¸ë§‰ì´', seatNumber: '31' },
                { name: 'ì´ì§„ìš°', phone: '010-7645-1273', parentPhone: '010-6663-1273', seatType: 'ì¹¸ë§‰ì´', seatNumber: '32' },
                { name: 'ì´ì„±ë¡', phone: '010-5792-7820', parentPhone: '010-2617-2575', seatType: 'ì¹¸ë§‰ì´', seatNumber: '33' },
                { name: 'ê¹€ë„ìœ¤', phone: '010-4594-1497', parentPhone: '010-4549-1497', seatType: 'ì¹¸ë§‰ì´', seatNumber: '35' },
                { name: 'ê¹€ì˜ˆë‚˜', phone: '010-7102-6607', parentPhone: '010-6695-6607', seatType: 'ì¹¸ë§‰ì´', seatNumber: '36' },
                { name: 'ê¹€ì‹œì™„', phone: '010-4995-3361', parentPhone: '010-3762-1861', seatType: 'ì¹¸ë§‰ì´', seatNumber: '37' },
                { name: 'ì „í˜¸ê²½', phone: '010-5942-7842', parentPhone: '010-4427-7842', seatType: 'ì¹¸ë§‰ì´', seatNumber: '38' },
                { name: 'í•œì˜ì§€', phone: '010-3488-8096', parentPhone: '010-2728-8096', seatType: 'ì¹¸ë§‰ì´', seatNumber: '39' },
                { name: 'ì´í˜¸ë¦¼', phone: '010-8079-3041', parentPhone: '010-3243-3041', seatType: 'ì¹¸ë§‰ì´', seatNumber: '40' },
                { name: 'êµ¬í˜„', phone: '010-2568-1852', parentPhone: '010-7523-1852', seatType: 'ì¹¸ë§‰ì´', seatNumber: '41' },
                { name: 'ì˜¤í˜„ì§€', phone: '010-4390-3265', parentPhone: '010-4371-0622', seatType: 'ì¹¸ë§‰ì´', seatNumber: '42' },
                { name: 'í™ìŠ¹ì›', phone: '010-5139-2970', parentPhone: '010-5156-4015', seatType: 'ì¹¸ë§‰ì´', seatNumber: '43' },
                { name: 'ê¹€ì°¬ì§„', phone: '010-9315-7387', parentPhone: '010-2216-7387', seatType: 'ì¹¸ë§‰ì´', seatNumber: '44' },
                { name: 'ê³ ê°€ë ¹', phone: '010-9011-3243', parentPhone: '010-5290-3243', seatType: 'ì¹¸ë§‰ì´', seatNumber: '45' },
                { name: 'ì „í˜„ì„œ', phone: '010-9882-8116', parentPhone: '010-3336-8116', seatType: 'ì¹¸ë§‰ì´', seatNumber: '46' },
                { name: 'ì§€í˜•ë¯¼', phone: '010-8799-6398', parentPhone: '010-8728-6398', seatType: 'ì¹¸ë§‰ì´', seatNumber: '47' }
            ]
        };

        let currentFloor = 8;
        let selectedStudent = null;
        let selectedPeriod = null;
        let selectedSeatFilter = 'ì „ì²´';
        let selectedDiscount = 0;
        let calcDiscount = 0;

        document.addEventListener('DOMContentLoaded', () => {
            renderSeatFilter();
            renderStudentList();
            updateCalc();
            selectDiscount(0);
            selectCalcDiscount(0);
            
            const savedTheme = localStorage.getItem('kimomma_theme');
            if (savedTheme === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
            }
        });

        function switchSection(section) {
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById(`section-${section}`).classList.add('active');
        }

        function selectFloor(floor) {
            currentFloor = floor;
            selectedStudent = null;
            selectedPeriod = null;
            selectedSeatFilter = 'ì „ì²´';
            document.querySelectorAll('.floor-tab').forEach(t => t.classList.remove('active'));
            document.querySelector(`.floor-tab.floor-${floor}`).classList.add('active');
            document.getElementById('verify-card').style.display = 'none';
            document.getElementById('verify-result-container').innerHTML = '';
            renderSeatFilter();
            renderStudentList();
        }

        function renderSeatFilter() {
            document.getElementById('seat-filter').innerHTML = seatTypes[currentFloor].map(type => `
                <button class="seat-filter-btn ${selectedSeatFilter === type ? 'active' : ''}" 
                        onclick="filterBySeatType('${type}')">${type}</button>
            `).join('');
        }

        function filterBySeatType(type) {
            selectedSeatFilter = type;
            renderSeatFilter();
            renderStudentList();
        }

        function filterStudents() { renderStudentList(); }

        function renderStudentList() {
            const container = document.getElementById('student-list');
            const search = document.getElementById('student-search').value.toLowerCase();
            
            let filtered = students[currentFloor].filter((s, i) => {
                s._index = i;
                return s.name.toLowerCase().includes(search) && 
                       (selectedSeatFilter === 'ì „ì²´' || s.seatType === selectedSeatFilter);
            });
            
            if (!filtered.length) {
                container.innerHTML = '<div class="empty-state"><p>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</p></div>';
                return;
            }
            
            container.innerHTML = filtered.map(s => `
                <div class="student-item ${selectedStudent?.name === s.name ? 'selected' : ''}" onclick="selectStudent(${s._index})">
                    <div class="student-info">
                        <span class="student-name">${s.name}</span>
                        <span class="student-detail">${s.seatNumber}ë²ˆ ì¢Œì„</span>
                    </div>
                    <span class="seat-badge ${s.seatType}">${s.seatType}</span>
                </div>
            `).join('');
        }

        function selectStudent(index) {
            selectedStudent = students[currentFloor][index];
            selectedStudent._floor = currentFloor;
            selectedPeriod = null;
            selectedDiscount = 0;
            
            document.getElementById('verify-card').style.display = 'block';
            document.getElementById('selected-student-info').innerHTML = `
                <div class="name">${selectedStudent.name} (${currentFloor}ì¸µ)</div>
                <div class="details">
                    <div>ğŸ“ ${selectedStudent.seatType} ${selectedStudent.seatNumber}ë²ˆ</div>
                    <div>ğŸ“± ${selectedStudent.parentPhone || 'ë¯¸ë“±ë¡'}</div>
                </div>
            `;
            
            // ì´ˆê¸°í™”
            document.querySelectorAll('.period-btn').forEach(b => b.classList.remove('selected'));
            document.getElementById('payment-day').value = '';
            document.getElementById('exclude-days').value = '0';
            document.getElementById('opt-locker').checked = false;
            document.getElementById('mentoring-fee').value = '';
            document.getElementById('actual-amount').value = '';
            document.getElementById('verify-btn').disabled = true;
            document.getElementById('verify-result-container').innerHTML = '';
            selectDiscount(0);
            updatePreview();
            
            renderStudentList();
            document.getElementById('verify-card').scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function selectPeriod(months) {
            if (!selectedStudent) return;
            selectedPeriod = months;
            document.querySelectorAll('.period-btn').forEach(b => b.classList.toggle('selected', b.dataset.period == months));
            updatePreview();
        }

        function toggleOption(type) {
            const checkbox = document.getElementById(`opt-${type}`);
            checkbox.checked = !checkbox.checked;
            checkbox.closest('.option-item').classList.toggle('active', checkbox.checked);
            updatePreview();
        }

        function selectDiscount(rate) {
            selectedDiscount = rate;
            document.querySelectorAll('.discount-btn:not(.calc-discount)').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.discount == rate);
            });
            updatePreview();
        }

        function calculateExpectedAmount() {
            if (!selectedStudent || !selectedPeriod) return 0;
            
            const paymentDay = parseInt(document.getElementById('payment-day').value) || 1;
            const excludeDays = parseInt(document.getElementById('exclude-days').value) || 0;
            const hasLocker = document.getElementById('opt-locker').checked;
            const mentoringFee = parseInt(document.getElementById('mentoring-fee').value) || 0;
            
            // ê¸°ì¤€ ê¸ˆì•¡
            const basePrice = priceData[currentFloor][selectedStudent.seatType][selectedPeriod];
            const dailyRate = basePrice / 30;
            
            // ì´ìš©ì¼ìˆ˜
            const useDays = Math.max(0, 31 - paymentDay - excludeDays);
            
            // ì¼í•  ê³„ì‚°
            let seatPrice;
            if (paymentDay === 1 && excludeDays === 0) {
                seatPrice = basePrice;
            } else {
                seatPrice = Math.round(dailyRate * useDays);
            }
            
            // í• ì¸ ì ìš© (ì¢Œì„ìš”ê¸ˆì—ë§Œ)
            const discountedSeatPrice = Math.round(seatPrice * (1 - selectedDiscount / 100));
            
            // ì‚¬ë¬¼í•¨ (ê¸°ê°„ì— ë§ê²Œ)
            const lockerFee = hasLocker ? LOCKER_FEE * selectedPeriod : 0;
            
            // ì´ì•¡
            const totalAmount = discountedSeatPrice + lockerFee + mentoringFee;
            
            return {
                basePrice,
                dailyRate,
                useDays,
                seatPrice,
                discountedSeatPrice,
                discountAmount: seatPrice - discountedSeatPrice,
                lockerFee,
                mentoringFee,
                totalAmount
            };
        }

        function updatePreview() {
            const calc = calculateExpectedAmount();
            document.getElementById('total-preview').innerHTML = `
                <div class="label">ì˜ˆìƒ ê²°ì œê¸ˆì•¡</div>
                <div class="amount">â‚©${calc.totalAmount.toLocaleString()}</div>
            `;
            
            const canVerify = selectedStudent && selectedPeriod && document.getElementById('actual-amount').value;
            document.getElementById('verify-btn').disabled = !canVerify;
        }

        function verifyPayment() {
            if (!selectedStudent || !selectedPeriod) return;
            
            const calc = calculateExpectedAmount();
            const actualAmount = parseInt(document.getElementById('actual-amount').value) || 0;
            const paymentDay = parseInt(document.getElementById('payment-day').value) || 1;
            const excludeDays = parseInt(document.getElementById('exclude-days').value) || 0;
            
            // ì°¨ì´ ê³„ì‚°
            const difference = actualAmount - calc.totalAmount;
            const diffPercent = calc.totalAmount > 0 ? ((actualAmount / calc.totalAmount) * 100 - 100).toFixed(1) : 0;
            
            // ì˜¤ì°¨ ë²”ìœ„
            const tolerance = calc.totalAmount * 0.05;
            let status, statusText;
            
            if (Math.abs(difference) <= 1000) {
                status = 'match';
                statusText = 'âœ… ì •í™•íˆ ì¼ì¹˜!';
            } else if (Math.abs(difference) <= tolerance) {
                status = 'partial';
                statusText = 'âš ï¸ ê·¼ì‚¬ì¹˜ (ì˜¤ì°¨ 5% ì´ë‚´)';
            } else {
                status = 'mismatch';
                statusText = 'âŒ ë¶ˆì¼ì¹˜';
            }
            
            // ì°¨ì´ ì„¤ëª…
            let diffExplanation = '';
            if (difference > 0) {
                diffExplanation = `ì‹¤ì œ ê¸ˆì•¡ì´ ${Math.abs(difference).toLocaleString()}ì› ë” ë§ìŠµë‹ˆë‹¤.`;
            } else if (difference < 0) {
                diffExplanation = `ì‹¤ì œ ê¸ˆì•¡ì´ ${Math.abs(difference).toLocaleString()}ì› ì ìŠµë‹ˆë‹¤.`;
            } else {
                diffExplanation = 'ì •í™•íˆ ì¼ì¹˜í•©ë‹ˆë‹¤!';
            }
            
            document.getElementById('verify-result-container').innerHTML = `
                <div class="verify-result ${status}">
                    <div class="status-text">${statusText}</div>
                    
                    <div class="verify-details">
                        <div class="verify-section-title">ğŸ“ ê¸°ë³¸ ì •ë³´</div>
                        <div class="verify-row">
                            <span class="label">ì¢Œì„ ìœ í˜•</span>
                            <span class="value">${selectedStudent.seatType}</span>
                        </div>
                        <div class="verify-row">
                            <span class="label">ê¸°ê°„</span>
                            <span class="value">${selectedPeriod}ê°œì›”</span>
                        </div>
                        <div class="verify-row">
                            <span class="label">ê¸°ë³¸ ìš”ê¸ˆ</span>
                            <span class="value">${calc.basePrice.toLocaleString()}ì›</span>
                        </div>
                        
                        <div class="verify-section-title">ğŸ“… ì¼í•  ê³„ì‚°</div>
                        <div class="verify-row">
                            <span class="label">ë“±ì›ì¼</span>
                            <span class="value">${paymentDay}ì¼</span>
                        </div>
                        ${excludeDays > 0 ? `
                        <div class="verify-row">
                            <span class="label">ì œì™¸ì¼ìˆ˜</span>
                            <span class="value">${excludeDays}ì¼</span>
                        </div>
                        ` : ''}
                        <div class="verify-row">
                            <span class="label">ì´ìš©ì¼ìˆ˜</span>
                            <span class="value">${calc.useDays}ì¼</span>
                        </div>
                        <div class="verify-row">
                            <span class="label">ì¼í•  ê³„ì‚°ì•¡</span>
                            <span class="value">${calc.seatPrice.toLocaleString()}ì›</span>
                        </div>
                        
                        ${selectedDiscount > 0 ? `
                        <div class="verify-section-title">ğŸ·ï¸ í• ì¸</div>
                        <div class="verify-row">
                            <span class="label">í• ì¸ìœ¨</span>
                            <span class="value discount">${selectedDiscount}%</span>
                        </div>
                        <div class="verify-row">
                            <span class="label">í• ì¸ê¸ˆì•¡</span>
                            <span class="value discount">-${calc.discountAmount.toLocaleString()}ì›</span>
                        </div>
                        <div class="verify-row">
                            <span class="label">í• ì¸ í›„ ì¢Œì„ë£Œ</span>
                            <span class="value">${calc.discountedSeatPrice.toLocaleString()}ì›</span>
                        </div>
                        ` : ''}
                        
                        ${(calc.lockerFee > 0 || calc.mentoringFee > 0) ? `
                        <div class="verify-section-title">â• ì¶”ê°€ ë¹„ìš©</div>
                        ${calc.lockerFee > 0 ? `
                        <div class="verify-row">
                            <span class="label">ğŸ” ì‚¬ë¬¼í•¨ (${selectedPeriod}ê°œì›”)</span>
                            <span class="value add">+${calc.lockerFee.toLocaleString()}ì›</span>
                        </div>
                        ` : ''}
                        ${calc.mentoringFee > 0 ? `
                        <div class="verify-row">
                            <span class="label">ğŸ“ ë©˜í† ë§</span>
                            <span class="value add">+${calc.mentoringFee.toLocaleString()}ì›</span>
                        </div>
                        ` : ''}
                        ` : ''}
                        
                        <div class="verify-section-title">ğŸ’° ìµœì¢… ë¹„êµ</div>
                        <div class="verify-row" style="background: var(--gray-50); margin: 0 -16px; padding: 12px 16px;">
                            <span class="label"><strong>ì˜ˆìƒ ê¸ˆì•¡</strong></span>
                            <span class="value"><strong>${calc.totalAmount.toLocaleString()}ì›</strong></span>
                        </div>
                        <div class="verify-row" style="background: var(--primary-light); margin: 0 -16px; padding: 12px 16px;">
                            <span class="label"><strong>ì‹¤ì œ ê¸ˆì•¡</strong></span>
                            <span class="value"><strong>${actualAmount.toLocaleString()}ì›</strong></span>
                        </div>
                        <div class="verify-row">
                            <span class="label">ì°¨ì´</span>
                            <span class="value ${difference > 0 ? 'positive' : difference < 0 ? 'negative' : ''}">${difference >= 0 ? '+' : ''}${difference.toLocaleString()}ì› (${diffPercent}%)</span>
                        </div>
                    </div>
                    
                    <div class="difference-box ${difference > 0 ? 'over' : difference < 0 ? 'under' : 'exact'}">
                        ğŸ’¡ ${diffExplanation}
                        ${Math.abs(difference) > tolerance ? '<br><br>ğŸ“‹ ê°€ëŠ¥í•œ ì›ì¸: ì¶”ê°€ ì¼ìˆ˜, ë‹¤ë¥¸ í• ì¸ìœ¨, ê¸°íƒ€ ë¹„ìš© ë“±' : ''}
                    </div>
                </div>
            `;
        }

        // ê³„ì‚°ê¸° ì„¹ì…˜
        function toggleCalcOption(type) {
            const checkbox = document.getElementById(`calc-opt-${type}`);
            checkbox.checked = !checkbox.checked;
            checkbox.closest('.option-item').classList.toggle('active', checkbox.checked);
            updateCalc();
        }

        function selectCalcDiscount(rate) {
            calcDiscount = rate;
            document.querySelectorAll('.discount-btn.calc-discount').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.discount == rate);
            });
            updateCalc();
        }

        function updateCalc() {
            const seatType = document.getElementById('calc-seat-type').value;
            const period = parseInt(document.getElementById('calc-period').value);
            const day = parseInt(document.getElementById('calc-day').value) || 1;
            const exclude = parseInt(document.getElementById('calc-exclude').value) || 0;
            const hasLocker = document.getElementById('calc-opt-locker').checked;
            const mentoringFee = parseInt(document.getElementById('calc-mentoring').value) || 0;
            
            const floor = seatType === 'í”„ë¦¬ë¯¸ì—„' ? 7 : 8;
            const prices = priceData[floor][seatType];
            if (!prices) return;
            
            const basePrice = prices[period];
            const dailyRate = basePrice / 30;
            const useDays = Math.max(0, 31 - day - exclude);
            
            let seatPrice;
            if (day === 1 && exclude === 0) {
                seatPrice = basePrice;
            } else {
                seatPrice = Math.round(dailyRate * useDays);
            }
            
            const discountedSeatPrice = Math.round(seatPrice * (1 - calcDiscount / 100));
            const lockerFee = hasLocker ? LOCKER_FEE * period : 0;
            const totalAmount = discountedSeatPrice + lockerFee + mentoringFee;
            
            document.getElementById('calc-result').innerHTML = `
                <div class="verify-details">
                    <div class="verify-row">
                        <span class="label">ì¢Œì„ ìœ í˜•</span>
                        <span class="value">${seatType} (${floor}ì¸µ)</span>
                    </div>
                    <div class="verify-row">
                        <span class="label">ê¸°ë³¸ ìš”ê¸ˆ (${period}ê°œì›”)</span>
                        <span class="value">${basePrice.toLocaleString()}ì›</span>
                    </div>
                    <div class="verify-row">
                        <span class="label">ì¼ì¼ ë‹¨ê°€</span>
                        <span class="value">${Math.round(dailyRate).toLocaleString()}ì›</span>
                    </div>
                    <div class="verify-row">
                        <span class="label">ì´ìš©ì¼ìˆ˜</span>
                        <span class="value">${useDays}ì¼</span>
                    </div>
                    <div class="verify-row">
                        <span class="label">ì¼í•  ê³„ì‚°</span>
                        <span class="value">${seatPrice.toLocaleString()}ì›</span>
                    </div>
                    ${calcDiscount > 0 ? `
                    <div class="verify-row">
                        <span class="label">í• ì¸ (${calcDiscount}%)</span>
                        <span class="value discount">-${(seatPrice - discountedSeatPrice).toLocaleString()}ì›</span>
                    </div>
                    ` : ''}
                    ${hasLocker ? `
                    <div class="verify-row">
                        <span class="label">ğŸ” ì‚¬ë¬¼í•¨ (${period}ê°œì›”)</span>
                        <span class="value add">+${lockerFee.toLocaleString()}ì›</span>
                    </div>
                    ` : ''}
                    ${mentoringFee > 0 ? `
                    <div class="verify-row">
                        <span class="label">ğŸ“ ë©˜í† ë§</span>
                        <span class="value add">+${mentoringFee.toLocaleString()}ì›</span>
                    </div>
                    ` : ''}
                    <div class="verify-row" style="background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); margin: 12px -16px -16px; padding: 16px; border-radius: 0 0 12px 12px;">
                        <span class="label" style="color: rgba(255,255,255,0.8); font-size: 1rem;"><strong>ìµœì¢… ê¸ˆì•¡</strong></span>
                        <span class="value" style="color: white; font-size: 1.25rem;"><strong>â‚©${totalAmount.toLocaleString()}</strong></span>
                    </div>
                </div>
            `;
        }

        function toggleTheme() {
            const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
            document.documentElement.setAttribute('data-theme', isDark ? '' : 'dark');
            localStorage.setItem('kimomma_theme', isDark ? '' : 'dark');
        }
    </script>
</body>
</html>
